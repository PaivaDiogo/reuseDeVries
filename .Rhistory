gemeentes <- read.csv("../data/standards/gemeentes/Groningen.csv")
gemeentes <- read.csv("../../data/standards/gemeentes/Groningen.csv")
gemeentes <- read.csv("../../../data/standards/gemeentes/Groningen.csv")
gemeentes <- read.csv("../../../data/standards/gemeentes/Groningen.csv")
gemeentes <- read.csv("../../data/standards/gemeentes/Groningen.csv")
gemeentes <- read.csv("../../data/standards/gemeentes/Groningen.csv")
medewerkerslijst <- read.csv("../../data/sources/csv/medewerkerslijst.csv")
medewerkerslijst <- read.csv("../data/sources/csv/medewerkerslijst.csv")
medewerkerslijst <- read.csv("../../../data/sources/csv/medewerkerslijst.csv")
medewerkerslijst <- read.csv("/../../data/sources/csv/medewerkerslijst.csv")
medewerkerslijst <- read.csv("../../data/sources/csv/medewerkerslijst.csv")
source("basicFunctions.R")
source("basicFunctions.R")
source("basicFunctions.R")
library(readr)
medewerkerslijst <- read_csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
source("~/Gitrepositories/dwarsliggers/dataAnalysis/R/basicFunctions.R")
library(readr)
medewerkerslijst <- read_csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$ma_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$ma_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$di_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$di_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$wo_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$wo_nm_reden==''),]
View(medewerkerslijst)
medewerkerslijst <- read_csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
medewerkerslijst <- medewerkerslijst[ which(medewerkerslijst$ma_vm_reden==''),]
medewerkerslijst <- read_csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
View(medewerkerslijst)
medewerkerslijst <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
View(medewerkerslijst)
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_nm_reden==''),]
bevolkingsregister <- read.csv("../../data/sources/csv/bevolkingsregister.csv")
bevolkingsregister <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/bevolkingsregister.csv")
bevolkingsregister$leeftijd <- age(bevolkingsregister$gebdat, "1903-04-06")
df <- merge(medewerkerslijst, bevolkingsregister)
gemeentes <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Groningen.csv")
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Overijssel.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Gelderland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Utrecht.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Brabant.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zuid-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zeeland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Limburg.csv")
gemeentes <- rbind(gemeentes,addition)
rm(addition)
gebpla_std <- read.csv("../../data/sources/csv/gebpla_std.csv")
gebpla_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/gebpla_std.csv")
gebpla_std_ext <- merge(gebpla_std, gemeentes)
df <- merge(df, gebpla_std_ext, by.x = "my_medewerkersnummer", by.y = "my_medewerkersnummer")
rm(gemeentes)
rm(gebpla_std)
rm(gebpla_std_ext)
medewerkerslijst <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_nm_reden==''),]
bevolkingsregister <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/bevolkingsregister.csv")
bevolkingsregister$leeftijd <- age(bevolkingsregister$gebdat, "1903-04-06")
df <- merge(medewerkerslijst, bevolkingsregister)
gemeentes <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Groningen.csv")
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Overijssel.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Gelderland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Utrecht.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Brabant.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zuid-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zeeland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Limburg.csv")
gemeentes <- rbind(gemeentes,addition)
rm(addition)
gebpla_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/gebpla_std.csv")
gebpla_std_ext <- merge(gebpla_std, gemeentes)
df <- merge(df, gebpla_std_ext, by.x = "my_medewerkersnummer", by.y = "my_medewerkersnummer", all.x = TRUE)
View(df)
medewerkerslijst <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_nm_reden==''),]
bevolkingsregister <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/bevolkingsregister.csv")
bevolkingsregister$leeftijd <- age(bevolkingsregister$gebdat, "1903-04-06")
df <- merge(medewerkerslijst, bevolkingsregister)
gemeentes <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Groningen.csv")
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Overijssel.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Gelderland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Utrecht.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Brabant.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zuid-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zeeland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Limburg.csv")
gemeentes <- rbind(gemeentes,addition)
rm(addition)
gebpla_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/gebpla_std.csv")
gebpla_std_ext <- merge(gebpla_std, gemeentes)
View(gebpla_std_ext)
df <- merge(df, gebpla_std_ext, by.x = "my_medewerkersnummer", by.y = "my_medewerkersnummer", all.x = TRUE)
df <- merge(medewerkerslijst, bevolkingsregister)
gemeentes <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Groningen.csv")
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Overijssel.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Gelderland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Utrecht.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Brabant.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zuid-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zeeland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Limburg.csv")
gemeentes <- rbind(gemeentes,addition)
rm(addition)
gebpla_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/gebpla_std.csv")
gebpla_std_ext <- merge(gebpla_std, gemeentes)
df2 <- merge(df, gebpla_std_ext, by = "my_medewerkersnummer", all.x = TRUE)
rows.in.a1.that.are.not.in.a2  <- function(a1,a2)
{
a1.vec <- apply(a1, 1, paste, collapse = "")
a2.vec <- apply(a2, 1, paste, collapse = "")
a1.without.a2.rows <- a1[!a1.vec %in% a2.vec,]
return(a1.without.a2.rows)
}
diff <- rows.in.a1.that.are.not.in.a2(df,df2)
diff <- rows.in.a1.that.are.not.in.a2(df2,df)
df_nrs <- df$my_medewerkersnummer
df2_nrs <- df2$my_medewerkersnummer
diff <- rows.in.a1.that.are.not.in.a2(df2_nrs,df_nrs)
diff <- merge(df2_nrs,df_nrs)
setdiff(df$my_medewerkersnummer, df2$my_medewerkersnummer)
df_nr
df_nrs
diff <- setdiff(df$my_medewerkersnummer, df2$my_medewerkersnummer)
View(df2)
gemeentes <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Groningen.csv")
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Friesland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Overijssel.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Gelderland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Utrecht.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Brabant.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zuid-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zeeland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Limburg.csv")
gemeentes <- rbind(gemeentes,addition)
rm(addition)
gebpla_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/gebpla_std.csv")
gebpla_std_ext <- merge(gebpla_std, gemeentes)
df2 <- merge(df, gebpla_std_ext, by = "my_medewerkersnummer", all.x = TRUE)
View(df2)
View(gemeentes)
View(gebpla_std)
bevolkingsregister <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/bevolkingsregister.csv")
age = function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
bevolkingsregister$leeftijd <- age(bevolkingsregister$gebdat, "1903-04-06")
bevolkingsregister <- bevolkingsregister[ which(bevolkingsregister$leeftijd>-1),]
gemeentes <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Groningen.csv")
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Friesland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Drenthe.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Overijssel.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Gelderland.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Utrecht.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Brabant.csv")
gemeentes <- rbind(gemeentes, addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Noord-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zuid-Holland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Zeeland.csv")
gemeentes <- rbind(gemeentes,addition)
addition <- read.csv("~/Gitrepositories/dwarsliggers/data/standards/gemeentes/Limburg.csv")
gemeentes <- rbind(gemeentes,addition)
gebpla_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/gebpla_std.csv")
gebpla_std_ext <- merge(gebpla_std, gemeentes, by = "uri_naam", all.x = TRUE)
bevolkingsregister <- merge(bevolkingsregister, gebpla_std_ext, by = "my_medewerkersnummer", all.x = TRUE)
rm(addition)
rm(gemeentes)
rm(gebpla_std)
rm(gebpla_std_ext)
bevolkingsregister$geloof <- NA
bevolkingsregister$geloof[bevolkingsregister$religie != ""] <- NA
bevolkingsregister$geloof[bevolkingsregister$religie == "nh"] <- "nh"
bevolkingsregister$geloof[bevolkingsregister$religie == "rk"] <- "rk"
bevolkingsregister$geloof[bevolkingsregister$religie == "[rk]"] <- "rk"
bevolkingsregister$geloof[bevolkingsregister$religie == "el"] <- "el"
bevolkingsregister$geloof[bevolkingsregister$religie == "dg"] <- "dg"
bevolkingsregister$geloof[bevolkingsregister$religie == "cg"] <- "gk"
bevolkingsregister$geloof[bevolkingsregister$religie == "ger."] <- "gk"
bevolkingsregister$geloof[bevolkingsregister$religie == "ger. Kerken"] <- "gk"
bevolkingsregister$geloof[bevolkingsregister$religie == "gk"] <- "gk"
bevolkingsregister$geloof[bevolkingsregister$religie == "dol"] <- "gk"
vrouwen <- bevolkingsregister[(bevolkingsregister$type == "vrouw"),]
hoofden <- bevolkingsregister[(bevolkingsregister$type == "hoofd"),]
huwelijken <- merge(hoofden, vrouwen, by = "huishouden_id", all.x = TRUE)
huwelijken <- merge(hoofden, vrouwen, by = "huishouden_id")
View(bevolkingsregister)
gemengde_huwelijken <- huwelijken[(huwelijken$geloof.x != huwelijken$geloof.y),]
View(gemengde_huwelijken)
View(gemengde_huwelijken)
View(huwelijken)
bevolkingsregister$gemengd_huw <- (gemengde_huwelijken$huishouden_id == bevolkingsregister$huishouden_id)
View(bevolkingsregister)
bevolkingsregister$gemengd_huw <- (bevolkingsregister$huishouden_id %in% gemengde_huwelijken$huishouden_id)
View(bevolkingsregister)
rm(vrouwen)
rm(hoofden)
rm(huwelijken)
rm(gemengde_huwelijken)
children <- bevolkingsregister[(bevolkingsregister$leeftijd<14),]
famsize <- data.frame(table(bevolkingsregister$huishouden_id))
names(famsize)[1] <- "huishouden_id"
names(famsize)[2] <- "aantal_gezinsleden"
nrchildren <- data.frame(table(children$huishouden_id))
names(nrchildren)[1] <- "huishouden_id"
names(nrchildren)[2] <- "aantal_kinderen"
gem_leeftijd <- aggregate(children[, c("leeftijd")], list(children$huishouden_id), mean)
names(gem_leeftijd)[1] <- "huishouden_id"
names(gem_leeftijd)[2] <- "gem_leeftijd_kinderen"
famsituation <- merge(nrchildren, gem_leeftijd)
famsituation <- merge(famsize, famsituation, all.x = T)
View(famsituation)
View(famsituation)
children <- bevolkingsregister[(bevolkingsregister$leeftijd<14),]
famsize <- data.frame(table(bevolkingsregister$huishouden_id))
names(famsize)[1] <- "huishouden_id"
names(famsize)[2] <- "aantal_gezinsleden"
nrchildren <- data.frame(table(children$huishouden_id))
names(nrchildren)[1] <- "huishouden_id"
names(nrchildren)[2] <- "aantal_kinderen"
gem_leeftijd <- aggregate(children[, c("leeftijd")], list(children$huishouden_id), mean)
names(gem_leeftijd)[1] <- "huishouden_id"
names(gem_leeftijd)[2] <- "gem_leeftijd_kinderen"
famsituation <- merge(nrchildren, gem_leeftijd, by = "huishouden_id")
famsituation <- merge(famsize, famsituation, by = "huishouden_id", all.x = TRUE)
bevolkingsregister <- merge(bevolkingsregister, famsituation, by = "huishouden_id", all.x = TRUE)
rm(nrchildren)
rm(famsize)
rm(gem_leeftijd)
rm(children)
bevolkingsregister$leeftijd <- age(bevolkingsregister$gebdat, "1903-04-06")
rm(famsituation)
personeelsregister <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister.csv")
personeelsregister_index <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_index.csv")
personeel <- merge(personeelregister, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
personeel <- merge(personeelsregister, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
View(personeel)
personeelsregister <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister.csv")
personeelsregister_index <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_index.csv")
personeel <- merge(personeelsregister, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
personeel <- merge(personeelsregister, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
personeel$dienstjaren_persreg <- age(personeel$datum_in_dienst, "1903-04-06")
age = function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
personeel$dienstjaren_persreg <- age(personeel$datum_in_dienst, "1903-04-06")
personeel[!is.na(personeel$dienstjaren_persreg) & personeel$dienstjaren_persreg<0,]$dienstjaren_persreg <- NA
personeel <- within(personeel,
aantal_dienstjaren <- ifelse(!is.na(dienstjaren_persreg), dienstjaren_persreg, dienstjaren_medewerkerslijst)
)
personeel <- within(personeel,
aantal_dienstjaren <- ifelse(is.na(aantal_dienstjaren), dienstjaren_schatting, aantal_dienstjaren)
)
View(personeel)
personeelsregister_basis <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_basis.csv")
personeelsregister_index <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_index.csv")
personeelsregister <- merge(personeelsregister_basis, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
age = function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
personeelsregister$dienstjaren_persreg <- age(personeelregister$datum_in_dienst, "1903-04-06")
personeelsregister_basis <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_basis.csv")
personeelsregister_index <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_index.csv")
personeelsregister <- merge(personeelsregister_basis, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
age = function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
personeelsregister$dienstjaren_persreg <- age(personeelsregister$datum_in_dienst, "1903-04-06")
personeelsregister[!is.na(personeelregister$dienstjaren_persreg) & personeelregister$dienstjaren_persreg<0,]$dienstjaren_persreg <- NA
personeelsregister <- within(personeelsregister,
aantal_dienstjaren <- ifelse(!is.na(dienstjaren_persreg), dienstjaren_persreg, dienstjaren_medewerkerslijst)
)
personeelsregister <- within(personeelsregister,
aantal_dienstjaren <- ifelse(is.na(aantal_dienstjaren), dienstjaren_schatting, aantal_dienstjaren)
)
personeelsregister_basis <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_basis.csv")
personeelsregister_basis <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_basis.csv")
personeelsregister_index <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/personeelsregister_index.csv")
personeelsregister <- merge(personeelsregister_basis, personeelsregister_index, by = "my_medewerkersnummer", all = TRUE)
rm(personeelsregister_basis)
rm(personeelsregister_index)
age = function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
personeelsregister$dienstjaren_persreg <- age(personeelsregister$datum_in_dienst, "1903-04-06")
personeelsregister[!is.na(personeelsregister$dienstjaren_persreg) & personeelsregister$dienstjaren_persreg<0,]$dienstjaren_persreg <- NA
personeelsregister <- within(personeelsregister,
aantal_dienstjaren <- ifelse(!is.na(dienstjaren_persreg), dienstjaren_persreg, dienstjaren_medewerkerslijst)
)
personeelsregister <- within(personeelsregister,
aantal_dienstjaren <- ifelse(is.na(aantal_dienstjaren), dienstjaren_schatting, aantal_dienstjaren)
)
medewerkerslijst <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/medewerkerslijst.csv")
medewerkerslijst$kleur_factor <- factor(medewerkerslijst$kleur, levels = c("b","w","g","r"), ordered=TRUE)
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$ma_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$di_nm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_vm_reden==''),]
medewerkerslijst <- medewerkerslijst[(medewerkerslijst$wo_nm_reden==''),]
functie_std <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/functie_std.csv")
medewerkerslijst <- merge(medewerkerslijst, functie_std, by = c("werkplaats","functie"), all.x = TRUE)
organogram <- read.csv("~/Gitrepositories/dwarsliggers/data/sources/csv/organogram.csv")
opzichters <- unique(organogram[c("werkplaats","opzichter")])
medewerkerslijst <- merge(medewerkerslijst, opzichters, by = "werkplaats", all.x = TRUE)
rm(functie_std)
rm(opzichters)
rm(organogram)
source("cleanMedewerkerslijst.R")
source("~/Gitrepositories/dwarsliggers/dataAnalysis/R/cleanMedewerkerslijst.R")
source("~/Gitrepositories/dwarsliggers/dataAnalysis/R/cleanBevolkingsregister.R")
source("~/Gitrepositories/dwarsliggers/dataAnalysis/R/cleanPersoneelsregister.R")
df <- merge(medewerkerslijst, bevolkingsregister, by = my_medewerkersnummer)
View(medewerkerslijst)
View(bevolkingsregister)
df <- merge(medewerkerslijst, bevolkingsregister, by = "my_medewerkersnummer")
df <- merge(df, personeelsregister, by = "my_medewerkersnummer", all.x = TRUE)
library(devtools)
library(sand)
C6
N
N
N
N
N
N
N
N
N
N
summary.ergm(lazega.ergm.fit)
N
N
children_edges <- read.csv("~/Downloads/queryResults_children.csv")
children_edges <- read.csv("~/Downloads/queryResults_children.csv")
married_edges <- read.csv("~/Downloads/queryResults_spouse.csv")
edges <- children_edges + married_edges
children_edges <- read.csv("~/Downloads/queryResults_children.csv")
married_edges <- read.csv("~/Downloads/queryResults_spouse.csv")
edges <- rbind(children_edges, married_edges)
graph <- graph_from_data_frame(edges, directed = TRUE)
library(igraph)
library(rgexf) # to write a gexf file (=Gephi) from igraph object
graph <- graph_from_data_frame(edges, directed = TRUE)
gexf <- igraph.to.gexf(graph) # duurt lang!!
print(gexf, "~/Downloads/ecartico.gexf", replace=T)
setwd("/home/ivo/Gitrepositories/reuseDeVries/")
adressenConcordans <- read.csv("data/adressenconcordans.csv")
setwd("/home/ivo/Gitrepositories/reuseDeVries/")
adressenConcordans <- read.csv("data/adressenconcordans.csv")
View(adressenConcordans)
deVriesData <- read.csv("data/p1223a_labels.csv")
adressenConcordans$adres1853 <- adressenConcordans$X1853_buurt + adressenConcordans$X1853_buurtnr + adressenConcordans$X1853_tvg
adressenConcordans$adres1853 <- paste(adressenConcordans$X1853_buurt, adressenConcordans$X1853_buurtnr, adressenConcordans$X1853_tvg)
View(deVriesData)
deVriesData1854 <- read.csv("data/p1223a_labels.csv")
View(deVriesData)
deVriesData1854$adres1854 <- paste(deVriesData1854$buurty, deVriesData1854$huisnry)                                   )
deVriesData1854$adres1854 <- paste(deVriesData1854$buurty, deVriesData1854$huisnry)
deVriesData1854$adres1854 <- paste(deVriesData1854$buurty, deVriesData1854$huisnry)
View(deVriesData1854)
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854", all.y = TRUE)
View(df)
adressenConcordans <- read.csv("data/adressenconcordans.csv")
View(adressenConcordans)
adressenConcordans <- read.csv("data/adressenconcordans.csv")
deVriesData1854 <- read.csv("data/p1223a_labels.csv")
adressenConcordans$adres1853 <- paste(adressenConcordans$X1853_buurt, adressenConcordans$X1853_buurtnr, adressenConcordans$X1853_tvg)
deVriesData1854$adres1854 <- paste(deVriesData1854$buurty, deVriesData1854$huisnry)
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854", all.y = TRUE)
View(df)
View(deVriesData1854)
View(deVriesData1854)
View(deVriesData1854)
View(adressenConcordans)
View(adressenConcordans)
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854")
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854")
adressenConcordans$adres1853 <- paste(adressenConcordans$X1853_buurt, adressenConcordans$X1853_buurtnr, adressenConcordans$X1853_tvg, sep = "")
deVriesData1854$adres1854 <- paste(deVriesData1854$buurty, deVriesData1854$huisnry, sep = "")
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854", all.y = TRUE)
View(df)
write.table(df, "data/constructs/df.csv", sep = ",", row.names=FALSE)
puntlocaties <- read.csv("data/puntlocaties_20180611.csv")
View(puntlocaties)
View(puntlocaties)
adressenConcordans <- read.csv("data/adressenconcordans_20180611.csv")
puntlocaties <- read.csv("data/puntlocaties_20180611.csv")
deVriesData1854 <- read.csv("data/p1223a_labels.csv")
adressenConcordans$adres1853 <- paste(adressenConcordans$X1853_buurt, adressenConcordans$X1853_buurtnr, adressenConcordans$X1853_tvg, sep = "")
deVriesData1854$adres1854 <- paste(deVriesData1854$buurty, deVriesData1854$huisnry, sep = "")
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854", all.y = TRUE)
df <- merge(adressenConcordans, deVriesData1854, by.x = "adres1853", by.y = "adres1854", all.y = TRUE)
df <- merge(df, puntlocaties, by.x = "locatiepunt", by.y = "nummer", all.x = TRUE)
write.table(df, "data/constructs/df.csv", sep = ",", row.names = FALSE)
